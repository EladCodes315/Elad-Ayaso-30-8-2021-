(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c,n,r,i,o=a(0),s=a.n(o),u=a(17),l=a.n(u),d=a(8),j=a(20),f=a(74),b=a(70),m=a(71),h=a(75),p=(a(48),a(5)),O=a(9),v=Object(O.c)({name:"theme",initialState:{data:"dark"},reducers:{changeTheme:function(e,t){"dark"===e.data?e.data="light":e.data="dark"}}}),g=v.actions.changeTheme,x=v.reducer,y=a(1),w=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.theme})).data,a="dark"===t?"#212529":"#f8f9fa";return Object(y.jsx)(f.a,{className:"navbar",bg:t,variant:t,children:Object(y.jsxs)(b.a,{className:"navbar-container",children:[Object(y.jsx)(f.a.Brand,{className:"navbar-brand",children:"Herolo Weather Task"}),Object(y.jsx)(m.a,{variant:"outline-secondary",style:{border:"0px",color:"darkgray",backgroundColor:a},onClick:function(){return e(g())},children:"dark"===t?Object(y.jsx)("i",{className:"fas fa-sun"}):Object(y.jsx)("i",{className:"fas fa-moon"})}),Object(y.jsxs)(h.a,{className:"me-auto d-flex",children:[Object(y.jsx)(j.b,{to:"/Elad-Ayaso-30-8-2021-",children:"Home"}),Object(y.jsx)(j.b,{to:"/Elad-Ayaso-30-8-2021-/favorites",style:{marginLeft:"12px"},children:"Favorites"})]})]})})},N=s.a.memo(w),k=a(23),T=a(10),C=a(14),S=a.n(C),F=a(19),L=Object(O.b)("location/getLocationAutocomplete",function(){var e=Object(F.a)(S.a.mark((function e(t,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/locations/v1/cities/autocomplete",query:"?apikey=".concat("ogvP21oTdyCaLDEHKv9L0OYbZfM0wBtl","&q=").concat(t)},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=Object(O.c)({name:"locationAutocomplete",initialState:{data:[],status:null},extraReducers:(c={},Object(T.a)(c,L.pending,(function(e,t){e.status="loading"})),Object(T.a)(c,L.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(T.a)(c,L.rejected,(function(e,t){e.status="failed"})),c)}).reducer,M=Object(O.b)("location/getCurrentCondition",function(){var e=Object(F.a)(S.a.mark((function e(t,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/currentconditions/v1/".concat(t),query:"?apikey=".concat("ogvP21oTdyCaLDEHKv9L0OYbZfM0wBtl")},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(O.c)({name:"currentCondition",initialState:{data:{},status:null},extraReducers:(n={},Object(T.a)(n,M.pending,(function(e,t){e.status="loading"})),Object(T.a)(n,M.fulfilled,(function(e,t){var a=t.payload;e.data=a[0],e.status="success"})),Object(T.a)(n,M.rejected,(function(e,t){e.status="failed"})),n)}).reducer,K=Object(O.b)("location/getForecast",function(){var e=Object(F.a)(S.a.mark((function e(t,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t),query:"?apikey=".concat("ogvP21oTdyCaLDEHKv9L0OYbZfM0wBtl")},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E=Object(O.c)({name:"currentCondition",initialState:{data:[],status:null},extraReducers:(r={},Object(T.a)(r,K.pending,(function(e,t){e.status="loading"})),Object(T.a)(r,K.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(T.a)(r,K.rejected,(function(e,t){e.status="failed"})),r)}).reducer,q=Object(O.b)("location/getGeolocation",function(){var e=Object(F.a)(S.a.mark((function e(t,a){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/locations/v1/cities/geoposition/search",query:"?apikey=".concat("ogvP21oTdyCaLDEHKv9L0OYbZfM0wBtl","&q=").concat(t)},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(O.c)({name:"geolocation",initialState:{data:{},status:null},extraReducers:(i={},Object(T.a)(i,q.pending,(function(e,t){e.status="loading"})),Object(T.a)(i,q.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(T.a)(i,q.rejected,(function(e,t){e.status="failed"})),i)}).reducer,A=(a(61),function(e){var t=e.daily,a=Object(p.c)((function(e){return e.celcius})).data,c=Object(o.useCallback)((function(e){return a?"".concat(((e-32)/1.8).toFixed(1),"\xb0C"):"".concat(e.toFixed(1),"\xb0F")}),[a]);return Object(y.jsxs)("div",{className:"weather-forecast-item",style:{},children:[Object(y.jsx)("div",{className:"day",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(t.Date).getDay()]}),Object(y.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(t.Day.Icon,".svg"),className:"w-icon",alt:""}),Object(y.jsxs)("div",{className:"temp",children:[c(t.Temperature.Minimum.Value)," - ",c(t.Temperature.Maximum.Value)]})]})}),B=s.a.memo(A),H=a(26),z=a(42),P=Object(O.c)({name:"favorites",initialState:{data:[],status:null},reducers:{addToFavorites:function(e,t){e.data.push(t.payload)},removeFromFavorites:function(e,t){var a=Object(z.a)(e.data);e.data=a.filter((function(e){return e.id!==t.payload.id}))}}}),U=P.actions,V=U.addToFavorites,Y=U.removeFromFavorites,R=P.reducer,Z=Object(O.c)({name:"celcius",initialState:{data:!1},reducers:{changeDegree:function(e,t){e.data=!e.data}}}),J=Z.actions.changeDegree,G=Z.reducer,Q=(a(62),function(e){var t=e.city,a=Object(p.b)(),c=Object(p.c)((function(e){return e.geolocation})).data,n=Object(p.c)((function(e){return e.currentCondition})).data,r=Object(p.c)((function(e){return e.favorites})).data,i=Object(p.c)((function(e){return e.celcius})).data,s=Object(o.useCallback)((function(){return 0!==r.length&&r.some((function(e){return localStorage.getItem("locationKey")===e.id}))}),[r]),u=Object(o.useCallback)((function(){s()?a(Y({id:localStorage.getItem("locationKey")})):a(V({id:localStorage.getItem("locationKey"),name:""!==t?t:c.LocalizedName,currentWeather:Object(H.a)({},n)}))}),[a,s,t,n,c]);return Object(y.jsx)("div",{className:"current-location",children:Object(y.jsxs)("div",{className:"location-weather-container",children:[Object(y.jsxs)("div",{className:"location-info",children:[""!==t?t:c.LocalizedName,Object(y.jsx)("div",{className:"favorites-icon",onClick:u,children:s()?Object(y.jsx)("i",{className:"fas fa-heart"}):Object(y.jsx)("i",{className:"far fa-heart"})})]}),Object(y.jsxs)("div",{className:"weather-info",children:[Object(y.jsxs)("div",{className:"degrees-info",children:[i?"".concat(n.Temperature.Metric.Value,"\xb0").concat(n.Temperature.Metric.Unit):"".concat(n.Temperature.Imperial.Value,"\xb0").concat(n.Temperature.Imperial.Unit),Object(y.jsxs)("div",{className:"degree-change-btn",onClick:function(){return a(J())},children:["|",i?n.Temperature.Imperial.Unit:n.Temperature.Metric.Unit]})]}),Object(y.jsx)("div",{className:"weather-description",children:n.WeatherText})]})]})})}),X=s.a.memo(Q),$=a(72),_=a(76),ee=a(73);a(63);var te=function(e){var t=e.match,a=Object(o.useState)(""),c=Object(k.a)(a,2),n=c[0],r=c[1],i=Object(o.useState)(!1),s=Object(k.a)(i,2),u=s[0],l=s[1],d=Object(o.useState)(""),j=Object(k.a)(d,2),f=j[0],b=j[1],m=function(e,t){var a=Object(o.useState)(e),c=Object(k.a)(a,2),n=c[0],r=c[1];return Object(o.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),n}(n,1e3),h=Object(p.b)(),O=Object(p.c)((function(e){return e.currentCondition})),v=Object(p.c)((function(e){return e.forecast})),g=Object(p.c)((function(e){return e.locationAutocomplete})),x=Object(p.c)((function(e){return e.geolocation})),w=Object(p.c)((function(e){return e.favorites})).data;Object(p.c)((function(e){return e.celcius})).data;Object(o.useEffect)((function(){void 0!==t.params.id?(h(M(t.params.id)),h(K(t.params.id)),localStorage.setItem("locationKey",t.params.id),b(w.find((function(e){return e.id===t.params.id})).name)):(h(K("215854")),h(q("32.045, 34.77")),h(M("215854")),localStorage.setItem("locationKey","215854"),b(""))}),[h,t.params.id]),Object(o.useEffect)((function(){m&&h(L(m))}),[h,m]);return Object(y.jsxs)("div",{className:"homescreen",onClick:function(){u&&l(!1)},children:[Object(y.jsx)($.a,{className:"input-group",style:{width:"350px"},children:Object(y.jsx)(_.a,{className:"input-textfield",placeholder:"Enter city here",value:n,onClick:function(){return l(!0)},onChange:function(e){var t=e.target.value;r(t)},autoComplete:"off"})}),u&&"success"===g.status?Object(y.jsx)("div",{className:"autocomplete-container",children:g.data.map((function(e,t){return Object(y.jsx)("div",{className:"option",onClick:function(){return function(e){r(e.LocalizedName),h(M(e.Key)),h(K(e.Key)),b(e.LocalizedName),localStorage.setItem("locationKey",e.Key)}(e)},tabIndex:"0",children:Object(y.jsxs)("span",{children:[e.LocalizedName,", ",e.Country.LocalizedName]})},t)}))}):Object(y.jsx)("div",{}),"loading"===O.status||"loading"===v.status||"loading"===x.status||null===v.status?Object(y.jsx)(ee.a,{animation:"border",style:{marginTop:"50px"}}):"failed"===O.status||"failed"===v.status||"failed"===x.status?alert("The allowed number of requests has been exceeded!"):Object(y.jsxs)("div",{className:"weather-container",children:[Object(y.jsx)(X,{city:f}),Object(y.jsx)("div",{className:"forecast-info",children:v.data.DailyForecasts.map((function(e,t){return Object(y.jsx)(B,{daily:e},t)}))})]})]})},ae=s.a.memo(te),ce=(a(64),function(e){var t=e.fav,a=Object(p.c)((function(e){return e.celcius})).data;return Object(y.jsxs)("div",{className:"favorite-location",children:[Object(y.jsx)("div",{className:"location-name",children:Object(y.jsx)(j.b,{to:"/Elad-Ayaso-30-8-2021-/".concat(t.id),children:t.name})}),Object(y.jsx)("div",{className:"location-degree",children:a?"".concat(t.currentWeather.Temperature.Metric.Value,"\xb0").concat(t.currentWeather.Temperature.Metric.Unit):"".concat(t.currentWeather.Temperature.Imperial.Value,"\xb0").concat(t.currentWeather.Temperature.Imperial.Unit)}),Object(y.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(t.currentWeather.WeatherIcon,".svg"),className:"w-icon",width:"80px",height:"80px",alt:""})]})}),ne=s.a.memo(ce),re=(a(65),function(){var e=Object(p.c)((function(e){return e.favorites})).data;return Object(y.jsxs)("div",{className:"favoritesscreen",children:[Object(y.jsx)("h2",{className:"favorites-headline",children:"My Favorites"}),0===e.length?Object(y.jsx)("h5",{children:"You Don't Have Any Favorites Yet!"}):Object(y.jsx)("div",{className:"favorites-grid",children:e.map((function(e,t){return Object(y.jsx)(ne,{fav:e},t)}))})]})}),ie=s.a.memo(re),oe=a.p+"static/media/light-mode.46247aaa.jpg",se=a.p+"static/media/night-mode.94f5695e.jpg";a(66);var ue=function(){var e=Object(p.c)((function(e){return e.theme})).data,t="dark"===e?se:oe,a="dark"===e?"#FFF":"#000";return Object(y.jsxs)("div",{className:"App",style:{color:a,backgroundImage:"url(".concat(t,")")},children:[Object(y.jsx)(N,{}),Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{path:"/:projectname/favorites",component:ie}),Object(y.jsx)(d.a,{path:"/:projectname/:id",component:ae}),Object(y.jsx)(d.a,{path:"/:projectname",component:ae})]})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))},de=(a(67),Object(O.a)({reducer:{currentCondition:D,locationAutocomplete:I,forecast:E,geolocation:W,favorites:R,celcius:G,theme:x}}));l.a.render(Object(y.jsxs)(s.a.StrictMode,{children:[Object(y.jsx)(p.a,{store:de,children:Object(y.jsx)(j.a,{children:Object(y.jsx)(ue,{})})}),","]}),document.getElementById("root")),le()}},[[68,1,2]]]);
//# sourceMappingURL=main.e44ccd12.chunk.js.map