(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c,n,r,i,o=a(0),s=a.n(o),u=a(19),l=a.n(u),d=a(17),j=a(7),f=a(21),b=a(74),m=a(70),h=a(71),p=a(75),O=(a(48),a(1)),v=function(e){var t=e.handleThemeChange,a=e.theme,c=e.iconStyle,n=e.setIconStyle,r=function(e){if("dark"===a){var t="onMouseEnter"===e._reactName?{color:"lightgray"}:{color:"darkgray"};n(t)}else{var c="onMouseEnter"===e._reactName?{color:"#000000",opacity:.7}:{color:"lightgray"};n(c)}},i="dark"===a?"#212529":"#f8f9fa";return Object(O.jsx)(b.a,{className:"navbar",bg:a,variant:a,children:Object(O.jsxs)(m.a,{className:"navbar-container",children:[Object(O.jsx)(b.a.Brand,{children:"Herolo Weather Task"}),Object(O.jsx)(h.a,{variant:"outline-secondary",style:{border:"0px",color:"darkgray",backgroundColor:i},onClick:t,onMouseEnter:function(e){return r(e)},onMouseLeave:function(e){return r(e)},children:"dark"===a?Object(O.jsx)("i",{className:"fas fa-sun",style:c}):Object(O.jsx)("i",{className:"fas fa-moon",style:c})}),Object(O.jsxs)(p.a,{className:"me-auto d-flex",children:[Object(O.jsx)(f.b,{to:"/Elad-Ayaso-30-8-2021-",children:"Home"}),Object(O.jsx)(f.b,{to:"/Elad-Ayaso-30-8-2021-/favorites",style:{marginLeft:"12px"},children:"Favorites"})]})]})})},g=a(11),y=a.n(g),x=a(16),N=a(10),w=a(8),S=a(9),C=Object(S.b)("location/getLocationAutocomplete",function(){var e=Object(x.a)(y.a.mark((function e(t,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/locations/v1/cities/autocomplete",query:"?apikey=".concat("U00lVIFaDs3DL1PhWC7xyQdiYHE0A34b","&q=").concat(t)},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(S.c)({name:"locationAutocomplete",initialState:{data:[],status:null},extraReducers:(c={},Object(w.a)(c,C.pending,(function(e,t){e.status="loading"})),Object(w.a)(c,C.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(w.a)(c,C.rejected,(function(e,t){e.status="failed"})),c)}).reducer,k=a(31),I=Object(S.b)("location/getCurrentCondition",function(){var e=Object(x.a)(y.a.mark((function e(t,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/currentconditions/v1/".concat(t),query:"?apikey=".concat("U00lVIFaDs3DL1PhWC7xyQdiYHE0A34b")},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(S.c)({name:"currentCondition",initialState:{data:{},favoritesConditions:[],status:null},extraReducers:(n={},Object(w.a)(n,I.pending,(function(e,t){e.status="loading"})),Object(w.a)(n,I.fulfilled,(function(e,t){var a=t.payload;e.data=a[0],e.status="success"})),Object(w.a)(n,I.rejected,(function(e,t){e.status="failed"})),Object(w.a)(n,"removeFromFavoritesConditions",(function(e,t){var a=Object(k.a)(e.favoritesConditions);e.favoritesConditions=a.filter((function(e){return e.id===t.payload.id}))})),n)}).reducer,T=Object(S.b)("location/getForecast",function(){var e=Object(x.a)(y.a.mark((function e(t,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t),query:"?apikey=".concat("U00lVIFaDs3DL1PhWC7xyQdiYHE0A34b")},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(S.c)({name:"currentCondition",initialState:{data:[],status:null},extraReducers:(r={},Object(w.a)(r,T.pending,(function(e,t){e.status="loading"})),Object(w.a)(r,T.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(w.a)(r,T.rejected,(function(e,t){e.status="failed"})),r)}).reducer,A=Object(S.b)("location/getGeolocation",function(){var e=Object(x.a)(y.a.mark((function e(t,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,c={base:"https://dataservice.accuweather.com/locations/v1/cities/geoposition/search",query:"?apikey=".concat("U00lVIFaDs3DL1PhWC7xyQdiYHE0A34b","&q=").concat(t)},e.abrupt("return",fetch(c.base+c.query).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E=Object(S.c)({name:"geolocation",initialState:{data:{},status:null},extraReducers:(i={},Object(w.a)(i,A.pending,(function(e,t){e.status="loading"})),Object(w.a)(i,A.fulfilled,(function(e,t){var a=t.payload;e.data=a,e.status="success"})),Object(w.a)(i,A.rejected,(function(e,t){e.status="failed"})),i)}).reducer,K=(a(61),function(e){var t=e.daily,a=e.getDegreesStr;return Object(O.jsxs)("div",{className:"weather-forecast-item",style:{},children:[Object(O.jsx)("div",{className:"day",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(t.Date).getDay()]}),Object(O.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(t.Day.Icon,".svg"),className:"w-icon",alt:""}),Object(O.jsxs)("div",{className:"temp",children:[a(t.Temperature.Minimum.Value)," - ",a(t.Temperature.Maximum.Value)]})]})}),M=a(27),W=Object(S.c)({name:"favorites",initialState:{data:[],status:null},reducers:{addToFavorites:function(e,t){e.data.push(t.payload)},removeFromFavorites:function(e,t){var a=Object(k.a)(e.data);e.data=a.filter((function(e){return e.id!==t.payload.id}))}}}),q=W.actions,V=q.addToFavorites,H=q.removeFromFavorites,U=W.reducer,z=(a(62),function(e){var t=e.celcius,a=e.setCelcius,c=e.city,n=e.getDegreesStr,r=Object(N.b)(),i=Object(N.c)((function(e){return e.geolocation})).data,o=Object(N.c)((function(e){return e.currentCondition})).data,s=Object(N.c)((function(e){return e.favorites})).data,u=function(){return 0!==s.length&&s.some((function(e){return localStorage.getItem("locationKey")===e.id}))};return Object(O.jsx)("div",{className:"current-location",children:Object(O.jsxs)("div",{className:"location-weather-container",children:[Object(O.jsxs)("div",{className:"location-info",children:[""===c?i.LocalizedName:c,Object(O.jsx)("div",{className:"favorites-icon",onClick:function(){u()?r(H({id:null!==localStorage.getItem("locationKey")?localStorage.getItem("locationKey"):i.Key})):r(V({id:null!==localStorage.getItem("locationKey")?localStorage.getItem("locationKey"):i.Key,name:""!==c?c:i.LocalizedName,currentWeather:Object(M.a)({},o)}))},children:u()?Object(O.jsx)("i",{className:"fas fa-heart"}):Object(O.jsx)("i",{className:"far fa-heart"})})]}),Object(O.jsxs)("div",{className:"weather-info",children:[Object(O.jsxs)("div",{className:"degrees-info",children:[n(o.Temperature.Imperial.Value),Object(O.jsxs)("div",{className:"degree-change-btn",onClick:function(){return a(!t)},children:["|",t?o.Temperature.Imperial.Unit:o.Temperature.Metric.Unit]})]}),Object(O.jsx)("div",{className:"weather-description",children:o.WeatherText})]})]})})}),P=a(72),Y=a(76),Q=a(73),R=(a(63),function(e){var t=e.match,a=Object(o.useState)(""),c=Object(d.a)(a,2),n=c[0],r=c[1],i=Object(o.useState)(!1),s=Object(d.a)(i,2),u=s[0],l=s[1],j=Object(o.useState)(""),f=Object(d.a)(j,2),b=f[0],m=f[1],h=Object(o.useState)(!1),p=Object(d.a)(h,2),v=p[0],g=p[1],w=Object(N.b)(),S=Object(N.c)((function(e){return e.currentCondition})),F=Object(N.c)((function(e){return e.forecast})),k=Object(N.c)((function(e){return e.locationAutocomplete})),D=Object(N.c)((function(e){return e.geolocation})),L=Object(N.c)((function(e){return e.favorites})).data;Object(o.useEffect)((function(){void 0!==t.params.id?(w(A("32.045, 34.77")),w(I(t.params.id)),w(T(t.params.id)),localStorage.setItem("locationKey",t.params.id),m(L.find((function(e){return e.id===t.params.id})).name)):(w(A("32.045, 34.77")),w(I("215854")),w(T("215854")),localStorage.setItem("locationKey","215854"),m(""))}),[]);var E=function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(C(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return v?"".concat(((e-32)/1.8).toFixed(1),"\xb0C"):"".concat(e.toFixed(1),"\xb0F")};return Object(O.jsxs)("div",{className:"homescreen",onClick:function(){u&&l(!1)},children:[Object(O.jsx)(P.a,{className:"input-group",style:{width:"350px"},children:Object(O.jsx)(Y.a,{className:"input-textfield",placeholder:"Enter city here",value:n,onClick:function(){return l(!0)},onChange:function(e){E(e.target.value),r(e.target.value)},autoComplete:"off"})}),u&&"success"===k.status?Object(O.jsx)("div",{className:"autocomplete-container",children:k.data.map((function(e,t){return Object(O.jsx)("div",{className:"option",onClick:function(){return function(e){r(e.LocalizedName),w(I(e.Key)),w(T(e.Key)),m(e.LocalizedName),localStorage.setItem("locationKey",e.Key)}(e)},tabIndex:"0",children:Object(O.jsxs)("span",{children:[e.LocalizedName,", ",e.Country.LocalizedName]})},t)}))}):Object(O.jsx)("div",{}),"loading"===S.status||"loading"===F.status||"loading"===D.status?Object(O.jsx)(Q.a,{animation:"border",style:{marginTop:"50px"}}):"failed"===S.status||"failed"===F.status||"failed"===D.status?alert("The allowed number of requests has been exceeded!"):Object(O.jsxs)("div",{className:"weather-container",children:[Object(O.jsx)(z,{city:b,celcius:v,setCelcius:g,getDegreesStr:M}),Object(O.jsx)("div",{className:"forecast-info",children:F.data.DailyForecasts.map((function(e,t){return Object(O.jsx)(K,{daily:e,getDegreesStr:M},t)}))})]})]})}),B=(a(64),function(e){var t=e.fav;return Object(O.jsxs)("div",{className:"favorite-location",children:[Object(O.jsx)("div",{className:"location-name",children:Object(O.jsx)(f.b,{to:"/Elad-Ayaso-30-8-2021-/".concat(t.id),children:t.name})}),Object(O.jsxs)("div",{className:"location-degree",children:[t.currentWeather.Temperature.Metric.Value,"\xb0",t.currentWeather.Temperature.Metric.Unit]}),Object(O.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(t.currentWeather.WeatherIcon,".svg"),className:"w-icon",width:"80px",height:"80px",alt:""})]})}),J=(a(65),function(){var e=Object(N.c)((function(e){return e.favorites})).data;return Object(O.jsxs)("div",{className:"favoritesscreen",children:[Object(O.jsx)("h2",{className:"favorites-headline",children:"My Favorites"}),0===e.length?Object(O.jsx)("h5",{children:"You Don't Have Any Favorites Yet!"}):Object(O.jsx)("div",{className:"favorites-grid",children:e.map((function(e,t){return Object(O.jsx)(B,{fav:e},t)}))})]})}),_=a.p+"static/media/light-mode.46247aaa.jpg",G=a.p+"static/media/night-mode.94f5695e.jpg";a(66);var X=function(){var e=Object(o.useState)("dark"),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(o.useState)(G),r=Object(d.a)(n,2),i=r[0],s=r[1],u=Object(o.useState)("#FFF"),l=Object(d.a)(u,2),f=l[0],b=l[1],m=Object(o.useState)({}),h=Object(d.a)(m,2),p=h[0],g=h[1];return Object(O.jsxs)("div",{className:"App",style:{color:f,backgroundImage:"url(".concat(i,")")},children:[Object(O.jsx)(v,{handleThemeChange:function(){"dark"===a?(c("light"),s(_),b("#000"),g({color:"#000000",opacity:.7})):(c("dark"),s(G),b("#FFF"),g({color:"lightgray"}))},theme:a,iconStyle:p,setIconStyle:g}),Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/:projectname/favorites",component:J}),Object(O.jsx)(j.a,{path:"/:projectname/:id",component:R}),Object(O.jsx)(j.a,{path:"/:projectname",component:R})]})]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))},$=(a(67),Object(S.a)({reducer:{currentCondition:D,locationAutocomplete:F,forecast:L,geolocation:E,favorites:U}}));l.a.render(Object(O.jsxs)(s.a.StrictMode,{children:[Object(O.jsx)(N.a,{store:$,children:Object(O.jsx)(f.a,{children:Object(O.jsx)(X,{})})}),","]}),document.getElementById("root")),Z()}},[[68,1,2]]]);
//# sourceMappingURL=main.542b4bed.chunk.js.map